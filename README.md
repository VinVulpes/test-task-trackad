Согласно заданию. 
1. Написать Dockerfile для Symfony, оптимизированный для production.

Этот Dockerfile создаёт лёгкий и безопасный контейнер на базе php:8.2-fpm-alpine для запуска Symfony-приложения в продакшене.
Что происходит:
 - Создаётся рабочая директория /var/www/html.
 - Добавляется безопасный пользователь symfony, под которым будет запускаться приложение.
 - Устанавливаются системные зависимости, включая инструменты для сборки PHP-расширений (например, autoconf, make, gcc).
 - Ставятся PHP-расширения, необходимые для Symfony и бандлов: redis (через pecl) sockets, gd, intl, zip, pdo_pgsql, opcache и др.
 - Устанавливается Composer (копируется из официального образа).
 - Устанавливаются зависимости PHP на основе composer.lock, без require-dev, с автозагрузкой.
 - Копируется остальной код проекта.
 - Прогревается кеш Symfony (bin/console cache:warmup).
 - Настраиваются права — весь проект принадлежит пользователю symfony.
 - Открывается порт 9000, приложение запускается через php-fpm.
Сборку образа локально можно произвести через: docker build -t symfony-app . 

2. Подготовить docker-compose.yml для локального запуска - представлен файлом 
- app — PHP-FPM контейнер с Symfony, билдится из Dockerfile.
- db — PostgreSQL 15, хранит данные в db_data.
- nginx — проксирует запросы на app, доступен на localhost:8080, использует конфиг ./nginx/default.conf.
Все сервисы подключены к одной сети symfony_network, данные БД сохраняются в volume.
Локально запуск происходит через команду: docker-compose -f docker-compose-local.yaml up --build

3.  Разработать Helm Chart с Deployment, Service и возможностью настройки
Helm-чарт представлен в виде двух папок. Первая — symfony-chart — это облегчённый вариант, соответствующий техническому заданию. Структура чарта:
  - Chart.yaml — основной манифест Helm-чарта. Содержит метаинформацию о чартe: имя, версия, описание, совместимость с API, и т.д. 
  - templates/_helpers.tpl — содержит шаблонные функции и шаблоны для генерации метаданных ресурсов (таких как имена, метки и аннотации).
  - templates/deployment.yaml — описывает Kubernetes Deployment для PHP Symfony-приложения: количество реплик, образ и т.д.
  - templates/service.yaml — определяет Service-объект, который обеспечивает сетевой доступ к Symfony-приложению внутри кластера.
  - values-test.yaml — содержит параметры для настройки чарта (например, имя образа, переменные окружения, порт сервиса и пр.).
symfony-chart-pro — расширенная версия чарта с дополнительными возможностями:
        ingress.yaml — позволяет опубликовать приложение во внешний мир доступ доменному имени;
        secret.yaml — создаёт два секрета:
            для доступа к приватному Docker-реестру;
            для проброса конфиденциальных переменных окружения в контейнер через .Values.secrets (пример представлен в values-test.yaml)
Формат и структура чарта остаются такими же, как в базовой версии, но добавлены возможности для production-ready деплоя.
Также представлен расширенный Deployment - deployment-with-nginx.yaml, в котором Symfony-приложение разворачивается вместе с Nginx в одном pod'е. 

Дополнительно добавлен .gitlab-ci.yml, описание job: 
  - build: Сборка Docker-образа выполняется с помощью Kaniko. Образ собирается из Dockerfile, кэшируется и загружается в GitLab Container Registry.
  - deploy_docker_compose: Разворачивает приложение локально через docker-compose, используя конфигурацию из docker-compose-local.yaml.
  - deploy_helm_chart: Выполняет деплой в Kubernetes через Helm, используя чарт symfony-chart.
Подключение к кластеру осуществляется через KUBECONFIG_CONTENT, параметры берутся из values_test.yaml.
